
[client]
port                            = 3306
socket                          = /var/lib/mysql/tmp/mysql.sock
#default-character-set           = euckr

[mysqld]
user                            = mysql
port                            = 3306
socket                          = /var/lib/mysql/tmp/mysql.sock
pid-file                        =/var/lib/mysql/tmp/mysql.pid
character-set-server            = utf8mb4
collation-server		= utf8mb4_general_ci
default-storage-engine          = InnoDB
ft_min_word_len                 = 4
init_connect                    = SET collation_connection = utf8mb4_general_ci
init_connect                    = SET NAMES utf8mb4
max_connections                 = 4096
max_connect_errors               = 400
tmpdir                          = /var/lib/mysql/tmp
datadir                         = /var/lib/mysql/data
basedir                         = /opt/mysql
event_scheduler                 = 1
lock_wait_timeout               = 60
#default_time_zone               ="Asia/Seoul"
transaction_isolation           ="READ-COMMITTED"
log_output	                = FILE
log-error                       = /var/lib/mysql/log/mysqld.err

### thread ### 
#thread_pool_size                = 6
#thread_pool_max_threads         = 6096
#thread_handling                 = pool-of-threads
#thread_pool_idle_timeout        = 600  ### 서비스영향도 확인 필요
#thread_pool_stall_limit         = 500  ## default / 단위 : milliseconds
#thread_concurrency		= 0
skip-name-resolve
### performance_schema ###
performance_schema				= 1
performance_schema_events_waits_history_size	= 20
performance_schema_events_waits_history_long_size = 15000

### innodb ###
innodb_data_file_path           = ibdata1:100M;ibdata2:100M:autoextend
innodb_buffer_pool_size         = 500M
innodb_buffer_pool_instances= 4
innodb_log_file_size            = 1024M
innodb_log_buffer_size          = 8M
innodb_flush_method             = O_DIRECT
innodb_flush_log_at_trx_commit= 2
innodb_open_files               = 14000
innodb_io_capacity              = 2000
innodb_io_capacity_max          = 3000
innodb_file_per_table
#innodb_sort_buffer_size        = 256M    # 서비스 중에는 주석 처리한다.

### master - replication setting ###
#disable-log-bin
server-id                       = 1233306
log_bin_index                   = /var/lib/mysql/binlog/mysql-bin.index
log-bin                         = /var/lib/mysql/binlog/mysql-bin
expire_logs_days                = 7
binlog_ignore_db                = mysql
binlog_ignore_db                = information_schema
binlog_ignore_db                = performance_schema
binlog_ignore_db                = test
binlog-format                   = row
#log_bin_compress		        = 1
sync_binlog = 0

relay-log                       = /var/lib/mysql/relaylog/relay-log
relay_log_index                 = /var/lib/mysql/relaylog/relay-bin.index
relay_log_info_file             = /var/lib/mysql/relaylog/relay-log.info


log-slave-updates=off

key_buffer_size                 = 128M
myisam_sort_buffer_size         = 2M
join_buffer_size                = 256K
sort_buffer_size                = 512K
read_buffer_size                = 128K
read_rnd_buffer_size            = 128K

max_allowed_packet              = 16M
max_heap_table_size             = 256M
tmp_table_size                  = 16M
thread_stack                    = 262144
thread_cache_size               = 1024
#query_cache_type                = off
#query_cache_size                = 0 #256M

#secure_auth			= OFF
#old_passwords                   = 0 # 0: turn off / 1: turn on
binlog_cache_size               = 2M
max_binlog_size                 = 104857600 # 100MB
wait_timeout                    = 60
sql_mode                        = "ALLOW_INVALID_DATES,NO_ENGINE_SUBSTITUTION"
optimizer_switch                = "index_merge_intersection=off,index_merge_sort_union=off"

default_authentication_plugin	=	mysql_native_password

#plugin_load_add                 = metadata_lock_info

slow_query_log                  = 1 # 0:Disable / 1:Enable
slow_query_log_file             = /var/lib/mysql/log/slow_query.log
long_query_time                 = 0.5

[mysqldump]
quick
max_allowed_packet              = 1G

[mysql]
no-auto-rehash

[myisamchk]
key_buffer_size                 = 256M
sort_buffer_size                = 256M
read_buffer                     = 2M
write_buffer                    = 2M

[mysqlhotcopy]
interactive-timeout

[mysqld_safe]
#malloc-lib                      = /usr/lib64/libjemalloc.so.1
log-error                       = /var/lib/mysql/log/mysqld_safe.err
open-files-limit                = 65535

